/******* Do not edit this file *******
Woody Code Snippets CSS and JS
Saved: Oct 24 2025 | 01:40:10 */
// Send page visit tracking via AJAX (works with cached pages!)
(function() {
    // Wait for page to load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', sendTracking);
    } else {
        sendTracking();
    }
    
    function sendTracking() {
        // Use Beacon API (non-blocking, works even if user leaves page)
        var data = new FormData();
        data.append('action', 'track_page_visit');
        data.append('page_url', window.location.pathname + window.location.search);
        
        // Use sendBeacon (fastest, most reliable)
        if (navigator.sendBeacon) {
            var url = '/wp-admin/admin-ajax.php';
            navigator.sendBeacon(url, data);
        } else {
            // Fallback to fetch
            fetch('/wp-admin/admin-ajax.php', {
                method: 'POST',
                body: data,
                keepalive: true
            });
        }
    }
})();